{"version":3,"sources":["./src/app/promos/promos.module.ts","./src/app/auth/auth.actions.ts","./src/app/shared/components/wrong-page/wrong-page.component.ts","./src/app/shared/components/wrong-page/wrong-page.component.html","./src/app/auth/auth.reducer.ts","./src/app/auth/auth.routing-module.ts","./src/app/shared/components/navbar/navbar.component.ts","./src/app/shared/components/navbar/navbar.component.html","./src/environments/environment.ts","./src/app/fire.service.ts","./src/app/auth/log-in/log-in.component.ts","./src/app/auth/log-in/log-in.component.html","./src/app/auth/auth.guard.ts","./src/app/shared/shared.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/shared/components/promo-form/promo-form.component.ts","./src/app/shared/components/promo-form/promo-form.component.html","./src/app/auth/profile-page/profile-page.component.ts","./src/app/auth/profile-page/profile-page.component.html","./src/app/auth/auth.module.ts","./src/app/app.module.ts","./src/app/auth/register/register.component.ts","./src/app/auth/register/register.component.html","./src/app/promos/promos-routing.module.ts","./src/app/auth/index.ts","./src/app/auth/auth.service.ts","./src/app/shared/components/promos-public/promos-public.component.ts","./src/app/shared/components/promos-public/promos-public.component.html","./src/app/app-routing.module.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object","./src/app/shared/components/faq-page/faq-page.component.ts","./src/app/shared/components/faq-page/faq-page.component.html"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { PromosRoutingModule } from './promos-routing.module';\r\nimport { AngularFireStorageModule } from '@angular/fire/storage';\r\nimport { AngularFireModule } from '@angular/fire';\r\nimport { environment } from 'src/environments/environment';\r\nimport { RouterModule } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    PromosRoutingModule,\r\n    AngularFireStorageModule,\r\n    AngularFireModule.initializeApp(environment.firebase, 'cloud'),\r\n  ],\r\n  providers: [],\r\n})\r\nexport class PromosModule {}\r\n","import { createAction, props } from '@ngrx/store';\r\nimport { AnyUserDTO, UserDTO } from '../shared/models/User';\r\n\r\nexport const login = createAction(\r\n  '[Login Page] Load User Profile',\r\n  props<{ userProfile: UserDTO }>()\r\n);\r\n\r\nexport const logout = createAction('[Profile Page] User Logged Out');\r\n\r\nexport const updateAuthUserData = createAction(\r\n  '[Promos Public] Update auth user data ',\r\n  props<{ user: AnyUserDTO }>()\r\n);\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-wrong-page',\r\n  templateUrl: './wrong-page.component.html',\r\n  styleUrls: ['./wrong-page.component.scss'],\r\n})\r\nexport class WrongPageComponent implements OnInit {\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {}\r\n}\r\n","<div class=\"bg\">\r\n  <p class=\"message\">Podana strona nie istnieje... :(</p>\r\n</div>\r\n","import { Action, createReducer, on } from '@ngrx/store';\r\nimport { AuthState } from '../shared/app-state';\r\n\r\nimport * as appActions from './auth.actions';\r\n\r\nexport const featureKey = 'auth';\r\n\r\nexport const initialAuthState: AuthState = {\r\n  userProfile: null,\r\n};\r\n\r\nconst authReducer = createReducer(\r\n  initialAuthState,\r\n  on(appActions.login, (state, { userProfile }) => {\r\n    return {\r\n      ...state,\r\n      userProfile,\r\n    };\r\n  }),\r\n  on(appActions.logout, (state) => {\r\n    return {\r\n      ...state,\r\n      userProfile: null,\r\n    };\r\n  }),\r\n  on(appActions.updateAuthUserData, (state, { user }) => {\r\n    return {\r\n      ...state,\r\n      userProfile: user,\r\n    };\r\n  })\r\n);\r\n\r\nexport function reducer(state: AuthState | undefined, action: Action) {\r\n  return authReducer(state, action);\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AuthGuard } from './auth.guard';\r\nimport { LogInComponent } from './log-in/log-in.component';\r\nimport { ProfilePageComponent } from './profile-page/profile-page.component';\r\nimport { RegisterComponent } from './register/register.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    children: [\r\n      { path: '', redirectTo: 'log-in', pathMatch: 'full' },\r\n      { path: 'log-in', component: LogInComponent },\r\n      {\r\n        path: 'profile',\r\n        component: ProfilePageComponent,\r\n        canActivate: [AuthGuard],\r\n        data: {\r\n          exptectedRoles: ['customer', 'vendor'],\r\n        },\r\n      },\r\n      { path: 'register', component: RegisterComponent },\r\n    ],\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AuthRoutingModule {}\r\n","import { Component, OnDestroy } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\nimport { selectAuthUserProfile } from 'src/app/auth';\r\nimport { AuthService } from 'src/app/auth/auth.service';\r\nimport { AppState } from '../../app-state';\r\nimport { UserDTO } from '../../models/User';\r\n\r\n@Component({\r\n  selector: 'app-navbar',\r\n  templateUrl: './navbar.component.html',\r\n  styleUrls: ['./navbar.component.scss'],\r\n})\r\nexport class NavbarComponent implements OnDestroy {\r\n  user$: Observable<UserDTO> = this.store.select(selectAuthUserProfile);\r\n\r\n  constructor(public auth: AuthService, private store: Store<AppState>) {}\r\n\r\n  logout() {\r\n    this.auth.logout();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.logout();\r\n  }\r\n}\r\n","<header class=\"header\">\r\n  <!-- <a [routerLink]=\"['faq']\" class=\"header__item\" routerLinkActive=\"active\"\r\n    >FAQ</a\r\n  > -->\r\n\r\n  <ng-container *ngIf=\"user$ | async as user; else elseBlock\">\r\n    <ng-container *ngIf=\"user.role === 'customer'\">\r\n      <a\r\n        class=\"header__item\"\r\n        [routerLink]=\"['promos']\"\r\n        routerLinkActive=\"active\"\r\n        [routerLinkActiveOptions]=\"{ exact: true }\"\r\n        >dostępne PROMOCJE</a\r\n      >\r\n\r\n      <a\r\n        [routerLink]=\"['customer/promos']\"\r\n        class=\"header__item\"\r\n        routerLinkActive=\"active\"\r\n        [routerLinkActiveOptions]=\"{ exact: true }\"\r\n        >MOJE PROMOCJE</a\r\n      >\r\n    </ng-container>\r\n\r\n    <ng-container *ngIf=\"user.role === 'vendor'\">\r\n      <a\r\n        [routerLink]=\"['promos']\"\r\n        class=\"header__item\"\r\n        routerLinkActive=\"active\"\r\n        [routerLinkActiveOptions]=\"{ exact: true }\"\r\n        >dostępne PROMOCJE</a\r\n      >\r\n\r\n      <a\r\n        [routerLink]=\"['vendor/promos']\"\r\n        class=\"header__item\"\r\n        routerLinkActive=\"active\"\r\n        [routerLinkActiveOptions]=\"{ exact: true }\"\r\n        >PROMOCJE SKLEPU</a\r\n      >\r\n\r\n      <a\r\n        [routerLink]=\"['vendor/promos/add']\"\r\n        class=\"header__item\"\r\n        routerLinkActive=\"active\"\r\n        [routerLinkActiveOptions]=\"{ exact: true }\"\r\n        >DODAJ PROMOCJĘ</a\r\n      >\r\n\r\n      <a\r\n        [routerLink]=\"['/vendor/promo/give-prize']\"\r\n        class=\"header__item\"\r\n        routerLinkActive=\"active\"\r\n        [routerLinkActiveOptions]=\"{ exact: true }\"\r\n        >PRZYZNAJ NAGRODĘ</a\r\n      >\r\n    </ng-container>\r\n\r\n    <div class=\"dropdown\">\r\n      <div class=\"dropdown__button\">\r\n        {{ user.email | lowercase }}\r\n        <p class=\"dropdown__chevron\"></p>\r\n      </div>\r\n      <p class=\"dropdown__content\">\r\n        <a\r\n          [routerLink]=\"['auth/profile']\"\r\n          class=\"header__item\"\r\n          routerLinkActive=\"active\"\r\n        >\r\n          Profil\r\n        </a>\r\n        <a\r\n          (click)=\"this.auth.logout()\"\r\n          [routerLink]=\"['auth/profile']\"\r\n          class=\"header__item\"\r\n          routerLinkActive=\"active\"\r\n        >\r\n          Wyloguj\r\n        </a>\r\n      </p>\r\n    </div>\r\n  </ng-container>\r\n</header>\r\n\r\n<ng-template #elseBlock>\r\n  <a [routerLink]=\"['promos']\" class=\"header__item\" routerLinkActive=\"active\"\r\n    >dostępne PROMOCJE</a\r\n  >\r\n\r\n  <a\r\n    [routerLink]=\"['auth/register']\"\r\n    class=\"header__item\"\r\n    routerLinkActive=\"active\"\r\n    >Rejestracja</a\r\n  >\r\n\r\n  <a\r\n    [routerLink]=\"['auth/log-in']\"\r\n    class=\"header__item\"\r\n    routerLinkActive=\"active\"\r\n    >Logowanie</a\r\n  >\r\n</ng-template>\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  firebase: {\r\n    apiKey: \"AIzaSyAWnREgHGxTJm5VLeU3Y7nmPf4e9zTqAwg\",\r\n    authDomain: \"dyplomowa-app-0.firebaseapp.com\",\r\n    databaseURL: \"https://dyplomowa-app-0.firebaseio.com\",\r\n    projectId: \"dyplomowa-app-0\",\r\n    storageBucket: \"dyplomowa-app-0.appspot.com\",\r\n    messagingSenderId: \"460840839298\",\r\n    appId: \"1:460840839298:web:768b5d0e35d11ec2a76c9b\",\r\n    measurementId: \"G-ENQW880JRE\"\r\n  }\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { Injectable } from '@angular/core';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport {\r\n  AngularFirestore,\r\n  AngularFirestoreCollection,\r\n} from '@angular/fire/firestore';\r\nimport { AngularFireStorage } from '@angular/fire/storage';\r\nimport { Router } from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { User } from 'firebase';\r\nimport { Observable } from 'rxjs';\r\nimport { AppState } from './shared/app-state';\r\nimport { AnyUserDTO, Role } from './shared/models/User';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class FireService {\r\n  constructor(\r\n    public afAuth: AngularFireAuth,\r\n    public router: Router,\r\n    public db: AngularFirestore,\r\n    public storage: AngularFireStorage\r\n  ) {}\r\n\r\n  getUsersCollectionRef(): AngularFirestoreCollection {\r\n    return this.getCollectionRef('users');\r\n  }\r\n\r\n  getPromosCollectionRef(): AngularFirestoreCollection {\r\n    return this.getCollectionRef('promos');\r\n  }\r\n\r\n  getCouponsCollectionRef(): AngularFirestoreCollection {\r\n    return this.getCollectionRef('coupons');\r\n  }\r\n\r\n  async addUserToCollection(role: Role, uid: string, userData: AnyUserDTO) {\r\n    const newUser: AnyUserDTO = {\r\n      uid,\r\n      ...userData,\r\n      role,\r\n      promos: [],\r\n    };\r\n\r\n    this.db\r\n      .collection('users')\r\n      .doc(uid)\r\n      .set({ ...newUser })\r\n      .then(() => {\r\n        this.router.navigateByUrl('auth/log-in');\r\n      })\r\n      .catch((error) => {\r\n        console.log('Something went wrong: ', error);\r\n      });\r\n  }\r\n\r\n  async createFireAuthAndUser(email: string, password: string, data: any) {\r\n    return await this.afAuth.createUserWithEmailAndPassword(email, password);\r\n  }\r\n\r\n  async fireAuthenticate(email: string, password: string): Promise<any> {\r\n    return this.afAuth.signInWithEmailAndPassword(email, password);\r\n  }\r\n\r\n  async signOut() {\r\n    await this.afAuth.signOut();\r\n    this.router.navigate(['auth/log-in']);\r\n  }\r\n\r\n  get fireAuth$(): Observable<User | null> {\r\n    return this.afAuth.user;\r\n  }\r\n\r\n  private getCollectionRef(name: string): AngularFirestoreCollection {\r\n    return this.db.collection(name);\r\n  }\r\n}\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport {\r\n  FormBuilder,\r\n  FormControl,\r\n  FormGroup,\r\n  Validators,\r\n} from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport { UserDTO } from 'src/app/shared/models/User';\r\nimport { AppState } from 'src/app/shared/app-state';\r\nimport { AuthService } from '../auth.service';\r\nimport { login } from '../auth.actions';\r\nimport { FireService } from 'src/app/fire.service';\r\nimport { switchMap } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-log-in',\r\n  templateUrl: './log-in.component.html',\r\n  styleUrls: ['./log-in.component.scss'],\r\n})\r\nexport class LogInComponent implements OnInit, OnDestroy {\r\n  form: FormGroup;\r\n\r\n  message = '';\r\n\r\n  subscription: Subscription = new Subscription();\r\n\r\n  constructor(\r\n    public auth: AuthService,\r\n    public fire: FireService,\r\n    public fb: FormBuilder,\r\n    public router: Router,\r\n    private store: Store<AppState>\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.initForm();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n    this.onReset();\r\n  }\r\n\r\n  checkAuth(data) {\r\n    const uid = data.user.uid;\r\n\r\n    this.subscription.add(\r\n      this.auth.fireAuth$\r\n        .pipe(\r\n          switchMap((data) => {\r\n            if (data) {\r\n              return this.fire.getUsersCollectionRef().doc(uid).get();\r\n            }\r\n          })\r\n        )\r\n        .subscribe(\r\n          (data) => {\r\n            if (data) {\r\n              this.store.dispatch(\r\n                login({ userProfile: data.data() as UserDTO })\r\n              );\r\n\r\n              this.auth.isLogged = true;\r\n              if (this.auth.isLogged) {\r\n                this.message = 'Logged in. ';\r\n                this.router.navigate(['auth/profile']);\r\n              }\r\n            } else {\r\n              this.message +=\r\n                'User is logged in but no profile data is available. ';\r\n            }\r\n          },\r\n          (err: Error) => {\r\n            this.message = err.message;\r\n          },\r\n          () => {}\r\n        )\r\n    );\r\n  }\r\n\r\n  authenticate(email, password) {\r\n    this.auth.login(email, password).then(\r\n      (data) => this.checkAuth(data),\r\n      (err: Error) => {\r\n        this.message = err.message;\r\n      }\r\n    );\r\n  }\r\n\r\n  onSubmit(userEmail?: string, userPassword?: string) {\r\n    let email: string = null;\r\n    let password: string = null;\r\n    if (userEmail && userPassword) {\r\n      email = userEmail;\r\n      password = userPassword;\r\n    } else if (this.form.valid) {\r\n      email = this.form.value['email'];\r\n      password = this.form.value['password'];\r\n    }\r\n    if (email && password) {\r\n      this.authenticate(email, password);\r\n    } else {\r\n      this.message = 'Please provide credentials. ';\r\n    }\r\n  }\r\n\r\n  initForm() {\r\n    let group = {};\r\n\r\n    group['email'] = new FormControl('', [\r\n      Validators.email,\r\n      Validators.required,\r\n    ]);\r\n    group['password'] = new FormControl('', [\r\n      Validators.min(8),\r\n      Validators.required,\r\n    ]);\r\n\r\n    this.form = this.fb.group(group);\r\n  }\r\n\r\n  onReset(): void {\r\n    this.message = '';\r\n    this.form.reset();\r\n  }\r\n}\r\n","<div class=\"wrapper\">\r\n  <form\r\n    [formGroup]=\"form\"\r\n    (ngSubmit)=\"onSubmit()\"\r\n    (reset)=\"onReset()\"\r\n    class=\"form\"\r\n  >\r\n    <div class=\"input-group input-group--points\">\r\n      <div class=\"input-wrapper\">\r\n        <label class=\"form__label\" for=\"email\"> Email </label>\r\n        <input\r\n          class=\"form__input\"\r\n          type=\"email\"\r\n          name=\"email\"\r\n          formControlName=\"email\"\r\n        />\r\n      </div>\r\n      <div class=\"input-wrapper\">\r\n        <label class=\"form__label\" for=\"password\"> hasło </label>\r\n        <input\r\n          class=\"form__input\"\r\n          type=\"password\"\r\n          name=\"password\"\r\n          formControlName=\"password\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"input-group input-group--buttons\">\r\n      <button class=\"button buttons\" type=\"reset\">Wyczyść</button>\r\n\r\n      <button\r\n        class=\"button buttons\"\r\n        type=\"submit\"\r\n        [disabled]=\"!this.form.valid\"\r\n      >\r\n        Wyślij\r\n      </button>\r\n    </div>\r\n    <p class=\"message\">{{ message }}</p>\r\n  </form>\r\n</div>\r\n\r\n<div class=\"logins dev-test\">\r\n  <p class=\"logins-message\">Zaloguj się jako:</p>\r\n  <section class=\"logins-section\">\r\n    <button\r\n      class=\"login\"\r\n      (click)=\"onSubmit('vendor@gmail.com', 'vendor@gmail.com')\"\r\n    >\r\n      VENDOR\r\n    </button>\r\n    <button\r\n      class=\"login\"\r\n      (click)=\"onSubmit('customer@gmail.com', 'customer@gmail.com')\"\r\n    >\r\n      CUSTOMER\r\n    </button>\r\n  </section>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  CanActivate,\r\n  ActivatedRouteSnapshot,\r\n  RouterStateSnapshot,\r\n  UrlTree,\r\n  Router,\r\n  CanLoad,\r\n  CanActivateChild,\r\n  RouterLink,\r\n} from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\nimport { take } from 'rxjs/operators';\r\nimport { selectAuthUserProfile } from '.';\r\nimport { AppState } from '../shared/app-state';\r\nimport { AnyUserDTO, UserDTO } from '../shared/models/User';\r\nimport { AuthService } from './auth.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AuthGuard implements CanActivate, CanActivateChild {\r\n  user$: Observable<AnyUserDTO> = this.store.select(selectAuthUserProfile);\r\n\r\n  constructor(\r\n    public auth: AuthService,\r\n    private store: Store<AppState>,\r\n    private router: Router\r\n  ) {}\r\n  canActivate(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot\r\n  ): true | UrlTree {\r\n    this.user$.pipe(take(1)).subscribe((user: UserDTO) => {\r\n      if (user) {\r\n        if (route.data.exptectedRoles && route.data.exptectedRoles.length) {\r\n          const userRoleCorrect: boolean = route.data.exptectedRoles.find(\r\n            (role) => user.role === role\r\n          );\r\n\r\n          if (userRoleCorrect) {\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        } else {\r\n          return true;\r\n        }\r\n      } else {\r\n        this.router.navigate(['/auth/log-in']);\r\n        return false;\r\n      }\r\n    });\r\n\r\n    return true;\r\n  }\r\n\r\n  canActivateChild(\r\n    next: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot\r\n  ): true | UrlTree {\r\n    return this.canActivate(next, state);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { WrongPageComponent } from './components/wrong-page/wrong-page.component';\r\nimport { NavbarComponent } from './components/navbar/navbar.component';\r\nimport { RouterModule } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { environment } from 'src/environments/environment';\r\n\r\nimport { AngularFireStorageModule } from '@angular/fire/storage';\r\nimport { AngularFireModule } from '@angular/fire';\r\nimport { FireService } from '../fire.service';\r\nimport { FaqPageComponent } from './components/faq-page/faq-page.component';\r\nimport { PromoFormComponent } from './components/promo-form/promo-form.component';\r\nimport { PromosPublicComponent } from './components/promos-public/promos-public.component';\r\n\r\nconst components = [\r\n  WrongPageComponent,\r\n  NavbarComponent,\r\n  FaqPageComponent,\r\n  PromoFormComponent,\r\n  PromosPublicComponent,\r\n];\r\n\r\n@NgModule({\r\n  declarations: components,\r\n\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    AngularFireStorageModule,\r\n    AngularFireModule.initializeApp(environment.firebase, 'cloud'),\r\n  ],\r\n  exports: components,\r\n  providers: [],\r\n})\r\nexport class SharedModule {}\r\n","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss'],\r\n})\r\nexport class AppComponent {\r\n  title = 'stamps';\r\n\r\n  constructor(public router: Router) {\r\n    this.router.navigate(['auth/log-in']);\r\n  }\r\n}\r\n","<div class=\"app-container\">\r\n  <app-navbar></app-navbar>\r\n  <div class=\"app-content\">\r\n    <router-outlet></router-outlet>\r\n  </div>\r\n</div>\r\n","import {\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup } from '@angular/forms';\r\nimport { Observable, Subscription } from 'rxjs';\r\n\r\nimport { finalize, take } from 'rxjs/operators';\r\nimport { UploadTaskSnapshot } from '@angular/fire/storage/interfaces';\r\nimport { FireService } from 'src/app/fire.service';\r\nimport { UserDTO, VendorDTO } from 'src/app/shared/models/User';\r\nimport { selectAuthUserProfile } from 'src/app/auth';\r\nimport { Store } from '@ngrx/store';\r\nimport { AppState } from 'src/app/shared/app-state';\r\nimport { DocumentReference } from '@angular/fire/firestore';\r\nimport { PromoDTO } from 'src/app/shared/models/Promo';\r\n\r\n@Component({\r\n  selector: 'app-promo-form',\r\n  templateUrl: './promo-form.component.html',\r\n  styleUrls: ['./promo-form.component.scss'],\r\n})\r\nexport class PromoFormComponent implements OnInit, OnDestroy {\r\n  @Input() promo: PromoDTO = null;\r\n  @Output() editItem: EventEmitter<UserDTO> = new EventEmitter();\r\n  @ViewChild('userPhoto') photo: ElementRef;\r\n  sub: Subscription = new Subscription();\r\n  user$: Observable<UserDTO> = this.store.select(selectAuthUserProfile);\r\n  user: VendorDTO = null;\r\n  form: FormGroup;\r\n  selectedFile: File = null;\r\n  downloadURL: Observable<string>;\r\n  uploadDone = false;\r\n  url = '';\r\n  message = '';\r\n  bytesTotal = 0;\r\n  bytesTransferred = 0;\r\n  percentage = 0;\r\n\r\n  constructor(\r\n    public fb: FormBuilder,\r\n    private fire: FireService,\r\n    private store: Store<AppState>\r\n  ) {\r\n    this.sub.add(this.user$.subscribe((user: VendorDTO) => (this.user = user)));\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.initForm();\r\n    if (this.promo) {\r\n      this.loadPromo();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.sub.unsubscribe();\r\n  }\r\n\r\n  private loadPromo() {\r\n    this.form.patchValue({\r\n      promoName: this.promo.promoName,\r\n      promoDescription: this.promo.promoDescription,\r\n      prizeDescription: this.promo.prizeDescription,\r\n      prizeQuantity: this.promo.prizeQuantity,\r\n      pointsEntry: this.promo.pointsEntry,\r\n      pointsRedeem: this.promo.pointsRedeem,\r\n      participantsTable: this.promo.participantsTable,\r\n      participantsTotal: this.promo.participantsTotal,\r\n      vendorId: this.promo.vendorId,\r\n      vendorEmail: this.promo.vendorEmail,\r\n      vendorStoreAddress: this.promo.vendorStoreAddress,\r\n      pid: this.promo.pid,\r\n      createdOn: this.promo.createdOn,\r\n      imageRef: this.promo.imageRef,\r\n    });\r\n    this.url = this.promo.imageRef;\r\n    this.uploadDone = true;\r\n  }\r\n\r\n  checkIfImage(filename: string) {\r\n    let name = filename.toLocaleLowerCase();\r\n    if (\r\n      name.includes('.jpg') ||\r\n      name.includes('.png') ||\r\n      name.includes('gif')\r\n    ) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  onFileSelected(event) {\r\n    let n = Date.now();\r\n    const file = event.target.files[0];\r\n\r\n    if (this.checkIfImage(file.name)) {\r\n      const filePath = `promo-images/${n}`;\r\n      const fileRef = this.fire.storage.ref(filePath);\r\n      const task = this.fire.storage.upload(`promo-images/${n}`, file);\r\n      task\r\n        .snapshotChanges()\r\n        .pipe(\r\n          finalize(() => {\r\n            this.downloadURL = fileRef.getDownloadURL();\r\n            this.downloadURL.subscribe((url: string) => {\r\n              if (url) {\r\n                this.url = url;\r\n                this.form.patchValue({ imageRef: url });\r\n              }\r\n            });\r\n          })\r\n        )\r\n        .subscribe((uploadingProccess: UploadTaskSnapshot) => {\r\n          if (uploadingProccess) {\r\n            const percentage =\r\n              (uploadingProccess.bytesTransferred /\r\n                uploadingProccess.totalBytes) *\r\n              100;\r\n\r\n            this.percentage = Math.floor(percentage);\r\n            if (percentage === 100) {\r\n              this.uploadDone = true;\r\n            }\r\n          }\r\n        });\r\n    } else {\r\n      this.message = 'Proszę przesyłać pliki .jpg i .png.';\r\n    }\r\n  }\r\n\r\n  onSubmit(): void {\r\n    this.submitForm();\r\n  }\r\n\r\n  submitForm(): void {\r\n    this.message = '...';\r\n\r\n    if (this.promo) {\r\n      this.submitFormUpdate();\r\n    } else {\r\n      if (confirm('Czy na pewno chcesz dodać promocję?')) {\r\n        this.submitFormCreate();\r\n      }\r\n    }\r\n  }\r\n\r\n  submitFormCreate(): void {\r\n    if (this.url && this.user) {\r\n      const documentPure = this.composePurePromoDTO(this.user);\r\n\r\n      this.fire\r\n        .getPromosCollectionRef()\r\n        .add(documentPure)\r\n        .then((data: DocumentReference) => {\r\n          let id: string = data.id;\r\n          const newDocument = { ...documentPure, pid: id };\r\n          const newDocumentPure = Object.assign({}, newDocument);\r\n\r\n          this.fire\r\n            .getPromosCollectionRef()\r\n            .doc(id)\r\n            .set({\r\n              ...newDocumentPure,\r\n            })\r\n            .then(() => {\r\n              const promos: any[] = [...this.user.promos, id];\r\n\r\n              this.fire\r\n                .getUsersCollectionRef()\r\n                .doc(this.user.uid)\r\n                .update({ promos: promos })\r\n                .catch((e) => console.log('err', e));\r\n            })\r\n            .catch((e) => (this.message = e));\r\n        })\r\n        .catch((e) => (this.message = e))\r\n        .finally(() => (this.message = 'Promocja została utworzona.'));\r\n    } else {\r\n      this.message = 'Nie udało się stworzyć promocji.';\r\n    }\r\n  }\r\n\r\n  submitFormUpdate(): void {\r\n    this.user$.pipe(take(1)).subscribe((auth: VendorDTO) => {\r\n      if (auth) {\r\n        const documentPure = this.composePurePromoDTO(auth, this.promo);\r\n\r\n        this.fire\r\n          .getPromosCollectionRef()\r\n          .doc(this.promo.pid)\r\n          .set(documentPure)\r\n          .catch((e) => (this.message = e))\r\n          .finally(() => (this.message = 'Promocja została zaktualizowana.'));\r\n      } else {\r\n        this.message = 'Musisz się zalogować.';\r\n      }\r\n    });\r\n  }\r\n\r\n  resetForm(): void {\r\n    this.photo.nativeElement.value = '';\r\n    this.url = '';\r\n    this.message = '';\r\n    this.uploadDone = false;\r\n    this.form.reset();\r\n    this.initForm();\r\n  }\r\n\r\n  private composePurePromoDTO(auth: VendorDTO, promo?: PromoDTO): PromoDTO {\r\n    const formData = {\r\n      promoName: this.form.value['promoName'],\r\n      promoDescription: this.form.value['promoDescription'],\r\n      prizeDescription: this.form.value['prizeDescription'],\r\n      prizeQuantity: this.form.value['prizeQuantity'],\r\n      pointsEntry: this.form.value['pointsEntry'],\r\n      pointsRedeem: this.form.value['pointsRedeem'],\r\n    };\r\n\r\n    const additionalData = {\r\n      vendorId: auth.uid,\r\n      vendorEmail: auth.email,\r\n      vendorStoreAddress: auth.storeAddress,\r\n      participantsTable: promo?.participantsTable || [],\r\n      participantsTotal: promo?.participantsTotal || 0,\r\n      pid: promo?.pid || '',\r\n      imageRef: promo?.imageRef || this.url,\r\n      createdOn: promo?.createdOn || new Date().toISOString().split('T')[0],\r\n    };\r\n\r\n    const document: PromoDTO = {\r\n      ...formData,\r\n      ...additionalData,\r\n    };\r\n\r\n    const documentPure = Object.assign({}, document);\r\n\r\n    return documentPure;\r\n  }\r\n\r\n  private initForm(): void {\r\n    let group = {};\r\n\r\n    group['promoName'] = new FormControl('');\r\n    group['promoDescription'] = new FormControl('');\r\n    group['prizeDescription'] = new FormControl('');\r\n    group['prizeQuantity'] = new FormControl('');\r\n    group['pointsEntry'] = new FormControl('');\r\n    group['pointsRedeem'] = new FormControl('');\r\n    group['participantsTable'] = new FormControl('');\r\n    group['participantsTotal'] = new FormControl('');\r\n    group['vendorId'] = new FormControl('');\r\n    group['vendorEmail'] = new FormControl('');\r\n    group['vendorStoreAddress'] = new FormControl('');\r\n    group['pid'] = new FormControl('');\r\n    group['active'] = new FormControl('');\r\n    group['createdOn'] = new FormControl('');\r\n    group['imageRef'] = new FormControl('');\r\n\r\n    this.form = this.fb.group(group);\r\n  }\r\n}\r\n","<div class=\"wrapper\">\r\n  <form\r\n    [formGroup]=\"form\"\r\n    (ngSubmit)=\"onSubmit()\"\r\n    (reset)=\"resetForm()\"\r\n    class=\"form\"\r\n  >\r\n    <section class=\"form__section\">\r\n      <div class=\"group\">\r\n        <label class=\"group__label\">PROMOCJA - Formularz</label>\r\n        <div class=\"input-wrapper\">\r\n          <label class=\"form__label\" for=\"promoName\"> nazwa promocji </label>\r\n          <input\r\n            class=\"form__input\"\r\n            type=\"text\"\r\n            name=\"promoName\"\r\n            formControlName=\"promoName\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"input-wrapper\">\r\n          <label class=\"form__label\" for=\"promoDescription\">\r\n            opis promocji\r\n          </label>\r\n          <textarea\r\n            rows=\"2\"\r\n            class=\"form__input\"\r\n            type=\"text\"\r\n            name=\"promoDescription\"\r\n            formControlName=\"promoDescription\"\r\n          >\r\n          </textarea>\r\n        </div>\r\n\r\n        <div class=\"input-wrapper\">\r\n          <label class=\"form__label\" for=\"prizeDescription\">\r\n            Nazwa i opis nagrody\r\n          </label>\r\n          <input\r\n            class=\"form__input\"\r\n            type=\"text\"\r\n            name=\"prizeDescription\"\r\n            formControlName=\"prizeDescription\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"input-wrapper\">\r\n          <label class=\"form__label\" for=\"prizeQuantity\">\r\n            ilość (nagrody)\r\n          </label>\r\n          <input\r\n            class=\"form__input\"\r\n            type=\"number\"\r\n            name=\"prizeQuantity\"\r\n            formControlName=\"prizeQuantity\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"input-wrapper\">\r\n          <label class=\"form__label\" for=\"pointsEntry\">\r\n            Punkty na wejście\r\n          </label>\r\n          <input\r\n            class=\"form__input\"\r\n            type=\"number\"\r\n            name=\"pointsEntry\"\r\n            formControlName=\"pointsEntry\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"input-wrapper\">\r\n          <label class=\"form__label\" for=\"pointsRedeem\">\r\n            Punkty wymagane do nagrody\r\n          </label>\r\n          <input\r\n            class=\"form__input\"\r\n            type=\"number\"\r\n            name=\"pointsRedeem\"\r\n            formControlName=\"pointsRedeem\"\r\n          />\r\n        </div>\r\n\r\n        <label class=\"buttons\" for=\"imageRef\" type=\"button\">\r\n          prześlij grafikę\r\n          <input\r\n            class=\"form__input form__input--image\"\r\n            type=\"file\"\r\n            id=\"imageRef\"\r\n            #userPhoto\r\n            (change)=\"onFileSelected($event)\"\r\n            name=\"imageRef\"\r\n            autocomplete=\"off\"\r\n          />\r\n        </label>\r\n        <p class=\"upload-progress\">\r\n          Przesłano :<span *ngIf=\"userPhoto.value\" #uploadProgress>\r\n            {{ percentage }}%\r\n          </span>\r\n        </p>\r\n\r\n        <button class=\"buttons\" type=\"reset\">Wyczyść formularz</button>\r\n\r\n        <button class=\"buttons\" type=\"submit\" [disabled]=\"!this.uploadDone\">\r\n          Prześlij\r\n        </button>\r\n\r\n        <div class=\"message-wrapper\">\r\n          <div class=\"message\">\r\n            {{ message }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <section class=\"form__section\">\r\n      <div class=\"image-wrapper\">\r\n        <img *ngIf=\"url\" class=\"image-result\" [src]=\"url\" alt=\"promo-image\" />\r\n      </div>\r\n    </section>\r\n  </form>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { selectAuthUserProfile } from 'src/app/auth';\r\nimport { AuthService } from 'src/app/auth/auth.service';\r\nimport { AppState } from 'src/app/shared/app-state';\r\nimport { UserDTO } from 'src/app/shared/models/User';\r\n\r\n@Component({\r\n  selector: 'app-profile-page',\r\n  templateUrl: './profile-page.component.html',\r\n  styleUrls: ['./profile-page.component.scss'],\r\n})\r\nexport class ProfilePageComponent implements OnInit {\r\n  user$: Observable<UserDTO> = this.store.select(selectAuthUserProfile);\r\n\r\n  constructor(public auth: AuthService, private store: Store<AppState>) {}\r\n\r\n  ngOnInit(): void {}\r\n}\r\n","<div class=\"wrapper\">\r\n  <ng-container *ngIf=\"user$ | async as user\">\r\n    <div class=\"details\">\r\n      <div class=\"detail\">\r\n        <label class=\"detail__label\"\r\n          >nazwa {{ user.role === \"vendor\" ? \"sklepu\" : \"użytkownika\" }}</label\r\n        >\r\n        <p class=\"detail__value\">{{ user.name }}</p>\r\n      </div>\r\n\r\n      <div class=\"detail\">\r\n        <label class=\"detail__label\">email</label>\r\n        <p class=\"detail__value\">{{ user.email }}</p>\r\n      </div>\r\n\r\n      <div class=\"detail\" *ngIf=\"user.nip\">\r\n        <label class=\"detail__label\">NIP</label>\r\n        <p class=\"detail__value\">{{ user.nip }}</p>\r\n      </div>\r\n\r\n      <div class=\"detail\">\r\n        <label class=\"detail__label\">Funkcja w serwisie</label>\r\n        <p class=\"detail__value\">\r\n          <ng-container *ngIf=\"user.role === 'vendor'\">\r\n            Przedstawiciel Sklepu\r\n          </ng-container>\r\n\r\n          <ng-container *ngIf=\"user.role === 'customer'\">\r\n            Kupujący\r\n          </ng-container>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </ng-container>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { LogInComponent } from './log-in/log-in.component';\r\nimport { RegisterComponent } from './register/register.component';\r\nimport { AuthRoutingModule } from './auth.routing-module';\r\nimport { AuthService } from './auth.service';\r\n\r\nimport { CommonModule } from '@angular/common';\r\nimport { StoreModule } from '@ngrx/store';\r\nimport * as fromAuthReducer from './auth.reducer';\r\nimport { ProfilePageComponent } from './profile-page/profile-page.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nconst components = [LogInComponent, RegisterComponent, ProfilePageComponent];\r\n@NgModule({\r\n  declarations: components,\r\n  imports: [\r\n    AuthRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    CommonModule,\r\n    StoreModule.forFeature(fromAuthReducer.featureKey, fromAuthReducer.reducer),\r\n  ],\r\n  exports: components,\r\n  providers: [AuthService],\r\n})\r\nexport class AuthModule {}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { AngularFireModule } from '@angular/fire';\r\nimport { AngularFirestoreModule } from '@angular/fire/firestore';\r\nimport { environment } from 'src/environments/environment';\r\nimport { StoreModule } from '@ngrx/store';\r\nimport { SharedModule } from './shared/shared.module';\r\nimport { AuthModule } from './auth/auth.module';\r\nimport { FireService } from './fire.service';\r\nimport { PromosModule } from './promos/promos.module';\r\nimport { DatePipe } from '@angular/common';\r\n\r\n@NgModule({\r\n  declarations: [AppComponent],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    StoreModule.forRoot({}),\r\n    SharedModule,\r\n    AuthModule,\r\n\r\n    PromosModule,\r\n    AngularFireModule.initializeApp(environment.firebase, 'cloud'),\r\n    AngularFirestoreModule,\r\n  ],\r\n  bootstrap: [AppComponent],\r\n  providers: [FireService],\r\n})\r\nexport class AppModule {}\r\n","import {\r\n  AfterViewInit,\r\n  Component,\r\n  ElementRef,\r\n  OnInit,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport {\r\n  FormBuilder,\r\n  FormControl,\r\n  FormGroup,\r\n  Validators,\r\n} from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { FireService } from 'src/app/fire.service';\r\nimport { CouponDTO } from 'src/app/shared/models/Coupon';\r\nimport { AuthService } from '../auth.service';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.scss'],\r\n})\r\nexport class RegisterComponent implements OnInit, AfterViewInit {\r\n  form: FormGroup;\r\n  message = '';\r\n\r\n  constructor(\r\n    private auth: AuthService,\r\n    private fire: FireService,\r\n    public router: Router,\r\n    public fb: FormBuilder\r\n  ) {\r\n    this.initForm();\r\n  }\r\n\r\n  ngOnInit(): void {}\r\n\r\n  ngAfterViewInit() {}\r\n\r\n  attachVendorControls() {}\r\n\r\n  onSubmit() {\r\n    if (this.form.valid) {\r\n      const email = this.form.value['email'];\r\n      const password = this.form.value['password'];\r\n      const nickname = this.form.value['nickname'];\r\n      const role = this.form.value['role'];\r\n      const storeAddress = this.form.value['storeAddress'];\r\n      const nip = this.form.value['nip'];\r\n\r\n      this.auth\r\n        .register(email, password, { nickname, role })\r\n        .then((value: any) => {\r\n          const authUid = value.user.uid;\r\n          let userData: any = {\r\n            email,\r\n            password,\r\n            name: nickname,\r\n            role: role,\r\n          };\r\n\r\n          if (this.form.value['role'] === 'vendor') {\r\n            userData = { ...userData, storeAddress, nip };\r\n          }\r\n          if (this.form.value['role'] === 'customer') {\r\n            let coupons: CouponDTO[] = [];\r\n            userData = { ...userData, coupons };\r\n          }\r\n\r\n          this.fire.addUserToCollection(role, authUid, userData);\r\n          this.router.navigate(['auth/log-in']);\r\n        })\r\n\r\n        .catch((error) => {\r\n          console.log('Something went wrong: ', error);\r\n          this.message = error.message;\r\n        });\r\n    }\r\n  }\r\n\r\n  initForm() {\r\n    let group = {};\r\n\r\n    group['email'] = new FormControl('', [\r\n      Validators.email,\r\n      Validators.required,\r\n    ]);\r\n    group['password'] = new FormControl('', [\r\n      Validators.min(8),\r\n      Validators.required,\r\n    ]);\r\n    group['nickname'] = new FormControl('', [Validators.min(2)]);\r\n    group['role'] = new FormControl('vendor', [Validators.required]);\r\n\r\n    group['storeAddress'] = new FormControl('');\r\n    group['nip'] = new FormControl('', [\r\n      Validators.maxLength(10),\r\n      Validators.minLength(10),\r\n      Validators.pattern(/^-?(0|[1-9]\\d*)?$/),\r\n    ]);\r\n    this.form = this.fb.group(group);\r\n  }\r\n\r\n  resetForm(): void {\r\n    this.form.reset();\r\n    this.initForm();\r\n  }\r\n}\r\n","<div class=\"wrapper\">\r\n  <form\r\n    [formGroup]=\"form\"\r\n    (ngSubmit)=\"onSubmit()\"\r\n    (reset)=\"resetForm()\"\r\n    class=\"form\"\r\n  >\r\n    <div class=\"input-group input-group--points\">\r\n      <div class=\"input-wrapper\">\r\n        <label class=\"form__label\" for=\"role\"> rola </label>\r\n\r\n        <select\r\n          class=\"form__input form__input--role\"\r\n          name=\"role\"\r\n          formControlName=\"role\"\r\n          #roleInput\r\n        >\r\n          <option value=\"vendor\">sklep</option>\r\n          <option value=\"customer\">klient</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div class=\"input-wrapper\">\r\n        <label class=\"form__label\" for=\"email\"> Email </label>\r\n        <input\r\n          class=\"form__input\"\r\n          type=\"email\"\r\n          name=\"email\"\r\n          formControlName=\"email\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"input-wrapper\">\r\n        <label class=\"form__label\" for=\"password\"> hasło </label>\r\n        <input\r\n          class=\"form__input\"\r\n          type=\"password\"\r\n          name=\"password\"\r\n          formControlName=\"password\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"input-wrapper\">\r\n        <label class=\"form__label\" for=\"nickname\">\r\n          nazwa {{ roleInput.value === \"vendor\" ? \"sklepu\" : \"użytkownika\" }}\r\n        </label>\r\n        <input\r\n          class=\"form__input\"\r\n          type=\"text\"\r\n          name=\"nickname\"\r\n          formControlName=\"nickname\"\r\n        />\r\n      </div>\r\n\r\n      <ng-container *ngIf=\"roleInput.value === 'vendor'\">\r\n        <div class=\"input-wrapper\">\r\n          <label class=\"form__label\" for=\"storeAddress\"> adres sklepu </label>\r\n          <input\r\n            class=\"form__input\"\r\n            type=\"text\"\r\n            name=\"storeAddress\"\r\n            formControlName=\"storeAddress\"\r\n          />\r\n        </div>\r\n        <div class=\"input-wrapper\">\r\n          <label class=\"form__label\" for=\"nip\"> NIP (10 cyfr) </label>\r\n          <input\r\n            class=\"form__input\"\r\n            type=\"text\"\r\n            name=\"nip\"\r\n            formControlName=\"nip\"\r\n          />\r\n        </div>\r\n      </ng-container>\r\n    </div>\r\n\r\n    <div class=\"input-group input-group--buttons\">\r\n      <button class=\"button buttons\" type=\"reset\">Wyczyść</button>\r\n\r\n      <button\r\n        class=\"button buttons\"\r\n        type=\"submit\"\r\n        [disabled]=\"!this.form.valid\"\r\n      >\r\n        Wyślij\r\n      </button>\r\n    </div>\r\n\r\n    <p class=\"message\">{{ message }}</p>\r\n  </form>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { PromosPublicComponent } from '../shared/components/promos-public/promos-public.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    children: [\r\n      {\r\n        path: 'promos',\r\n        pathMatch: 'full',\r\n        component: PromosPublicComponent,\r\n      },\r\n      {\r\n        path: 'customer',\r\n        loadChildren: () =>\r\n          import('./customer/customer.module').then((m) => m.CustomerModule),\r\n      },\r\n      {\r\n        path: 'vendor',\r\n        loadChildren: () =>\r\n          import('./vendor/vendor.module').then((m) => m.VendorModule),\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class PromosRoutingModule {}\r\n","import { createSelector } from '@ngrx/store';\r\nimport { AppState, AuthState } from '../shared/app-state';\r\nimport { UserDTO } from '../shared/models/User';\r\n\r\nexport const selectAuth = (state: AppState) => state.auth;\r\n\r\nexport const selectAuthUserProfile = createSelector(\r\n  selectAuth,\r\n  (state: AuthState) => state.userProfile\r\n);\r\n","import { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { User } from 'firebase';\r\nimport { Observable } from 'rxjs';\r\nimport { AppState } from '../shared/app-state';\r\nimport { Store } from '@ngrx/store';\r\nimport { logout } from './auth.actions';\r\nimport { FireService } from '../fire.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AuthService {\r\n  redirectUrl: string;\r\n  isLogged = false;\r\n  constructor(\r\n    public router: Router,\r\n    private fire: FireService,\r\n    private store: Store<AppState>\r\n  ) {}\r\n\r\n  async login(email: string, password: string) {\r\n    this.isLogged = true;\r\n\r\n    return this.fire.fireAuthenticate(email, password);\r\n  }\r\n\r\n  async register(email: string, password: string, data: any) {\r\n    return this.fire.createFireAuthAndUser(email, password, data);\r\n  }\r\n\r\n  get fireAuth$(): Observable<User | null> {\r\n    return this.fire.fireAuth$;\r\n  }\r\n\r\n  logout() {\r\n    this.fire.signOut();\r\n    this.store.dispatch(logout());\r\n\r\n    this.isLogged = false;\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { DocumentData } from '@angular/fire/firestore';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\nimport { selectAuthUserProfile } from 'src/app/auth';\r\nimport { updateAuthUserData } from 'src/app/auth/auth.actions';\r\nimport { AuthService } from 'src/app/auth/auth.service';\r\nimport { FireService } from 'src/app/fire.service';\r\nimport { AppState } from 'src/app/shared/app-state';\r\nimport { ParticipantDTO, PromoDTO } from 'src/app/shared/models/Promo';\r\nimport { AnyUserDTO, CustomerDTO, UserDTO } from 'src/app/shared/models/User';\r\n\r\n@Component({\r\n  selector: 'app-promos-public',\r\n  templateUrl: './promos-public.component.html',\r\n  styleUrls: ['./promos-public.component.scss'],\r\n})\r\nexport class PromosPublicComponent implements OnInit {\r\n  promos$: Observable<\r\n    DocumentData[]\r\n  > = this.fire.getPromosCollectionRef().valueChanges();\r\n  tableName = 'DOSTĘPNE PROMOCJE';\r\n  user$: Observable<AnyUserDTO> = this.store.select(selectAuthUserProfile);\r\n  message = '';\r\n  constructor(\r\n    public auth: AuthService,\r\n    private store: Store<AppState>,\r\n    private fire: FireService\r\n  ) {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  hasAlreadyJoined(promo: PromoDTO, user: UserDTO): boolean {\r\n    let alreadyJoined = null;\r\n\r\n    alreadyJoined = promo.participantsTable.find((p) => p.uid === user.uid);\r\n\r\n    return !!alreadyJoined;\r\n  }\r\n\r\n  updateCustomerPromosFirestore(customer: CustomerDTO): Promise<any> {\r\n    return this.fire.getUsersCollectionRef().doc(customer.uid).set(customer);\r\n  }\r\n\r\n  updatePromoParticipantsFirestore(promo: PromoDTO): Promise<any> {\r\n    return this.fire.getPromosCollectionRef().doc(promo.pid).set(promo);\r\n  }\r\n\r\n  join(promo: PromoDTO, user: AnyUserDTO) {\r\n    this.fire\r\n      .getUsersCollectionRef()\r\n      .doc(user.uid)\r\n      .get()\r\n      .toPromise()\r\n      .then((data) => {\r\n        if (data) {\r\n          const user: AnyUserDTO = data.data() as AnyUserDTO;\r\n          const alreadyJoined = promo.participantsTable.find(\r\n            (participant) => participant.uid === user.uid\r\n          );\r\n\r\n          if (!alreadyJoined) {\r\n            const customer: CustomerDTO = this.updateCustomerPromos(\r\n              promo,\r\n              user\r\n            );\r\n            const promoUpdated: PromoDTO = this.updatePromoParticipants(\r\n              promo,\r\n              customer\r\n            );\r\n\r\n            const customerPromise: Promise<any> = this.updateCustomerPromosFirestore(\r\n              customer\r\n            );\r\n\r\n            const promoPromise: Promise<any> = this.updatePromoParticipantsFirestore(\r\n              promoUpdated\r\n            );\r\n\r\n            Promise.all([customerPromise, promoPromise]).then(() => {\r\n              this.store.dispatch(updateAuthUserData({ user: customer }));\r\n            });\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  private updatePromoParticipants(promo: PromoDTO, user: UserDTO): PromoDTO {\r\n    const currentPoints = 0 + promo.pointsEntry;\r\n\r\n    const newParticipant: ParticipantDTO = {\r\n      uid: user.uid,\r\n      email: user.email,\r\n      currentPoints,\r\n      joinedOn: new Date().toISOString().split('T')[0],\r\n      prizeCounter: 0,\r\n    };\r\n\r\n    const participantsTable = [...promo.participantsTable, newParticipant];\r\n\r\n    const newPromo: PromoDTO = {\r\n      ...promo,\r\n      participantsTable,\r\n      participantsTotal: participantsTable.length,\r\n    };\r\n\r\n    return newPromo;\r\n  }\r\n\r\n  private updateCustomerPromos(promo: PromoDTO, user: UserDTO) {\r\n    let promos: string[] = [];\r\n    if (user?.promos.length) {\r\n      promos = [...user?.promos, promo.pid];\r\n    } else {\r\n      promos = [promo.pid];\r\n    }\r\n\r\n    const newCustomer: CustomerDTO = Object.assign(\r\n      {},\r\n      {\r\n        ...user,\r\n        promos,\r\n      }\r\n    ) as CustomerDTO;\r\n\r\n    return newCustomer;\r\n  }\r\n}\r\n","<div class=\"wrapper\">\r\n  <ul *ngIf=\"promos$ | async as promos\" class=\"promos\">\r\n    <li *ngFor=\"let promo of promos\" class=\"promo\">\r\n      <section class=\"promo__image-wrapper\">\r\n        <img class=\"promo__image\" [src]=\"promo.imageRef\" />\r\n      </section>\r\n\r\n      <section class=\"promo__pocket\">\r\n        <div class=\"promo__name\">Promo: {{ promo.promoName }}</div>\r\n        <div class=\"promo__prize\">\r\n          Nagroda: {{ promo.prizeDescription }}\r\n          <ng-container *ngIf=\"promo.prizeQuantity && promo.prizeQuantity > 0\">\r\n            ({{ promo.prizeQuantity ? \"x \" : \"\" }} {{ promo.prizeQuantity }})\r\n          </ng-container>\r\n        </div>\r\n        <div class=\"promo__description\">\r\n          {{ promo.promoDescription }}\r\n        </div>\r\n        <div class=\"promo__vendor-email\">\r\n          Lokalizacja: {{ promo.vendorStoreAddress }}\r\n        </div>\r\n        <div class=\"promo__vendor-email\">\r\n          Kontakt ze sklepem: {{ promo.vendorEmail }}\r\n        </div>\r\n\r\n        <ng-container *ngIf=\"user$ | async as user\">\r\n          <ng-container *ngIf=\"user.role === 'customer'\">\r\n            <div class=\"promo__actions\">\r\n              <label\r\n                class=\"action-label\"\r\n                *ngIf=\"hasAlreadyJoined(promo, user) === false\"\r\n                (click)=\"join(promo, user)\"\r\n                >Dołącz</label\r\n              >\r\n              <label\r\n                class=\"action-label action-label--disabled\"\r\n                *ngIf=\"hasAlreadyJoined(promo, user) === true\"\r\n                >Już dołączono</label\r\n              >\r\n            </div>\r\n          </ng-container>\r\n        </ng-container>\r\n      </section>\r\n    </li>\r\n  </ul>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { FaqPageComponent } from './shared/components/faq-page/faq-page.component';\r\nimport { WrongPageComponent } from './shared/components/wrong-page/wrong-page.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', pathMatch: 'full', redirectTo: 'promos' },\r\n  { path: 'faq', component: FaqPageComponent },\r\n\r\n  {\r\n    path: 'auth',\r\n    loadChildren: () => import('./auth/auth.module').then((m) => m.AuthModule),\r\n  },\r\n  {\r\n    path: '',\r\n    loadChildren: () =>\r\n      import('./promos/promos.module').then((m) => m.PromosModule),\r\n  },\r\n  { path: '**', component: WrongPageComponent },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AppRoutingModule {}\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-faq-page',\r\n  templateUrl: './faq-page.component.html',\r\n  styleUrls: ['./faq-page.component.scss'],\r\n})\r\nexport class FaqPageComponent implements OnInit {\r\n  questions = [\r\n    {\r\n      question: 'Jak założyć konto i korzystać z aplikacji?',\r\n      answer:\r\n        'Należy utworzyć konto, podając przy tym adres email, nickname, hasło do konta oraz rola jaką chce się pełnić w ramach aplikacji ' +\r\n        'Podany adres email będzie służył jako identyfikator uczestnika promocji. ' +\r\n        'Role do wyboru: ' +\r\n        'uczestnik promocji  (klient) - możliwość brania udzialu w promocjach na tańsze produkty. ' +\r\n        'właściciel promocji (sklep) - możliwość zakładania promocji i modyfikowania punktów uczestników własnych promocji.',\r\n    },\r\n    {\r\n      question: 'Jak zapisać się do promocji?',\r\n      answer:\r\n        'Po zalogowaniu do serwisu wejdź w zakładkę DOSTĘPNE PROMOCJE i wybierz z listy interesujące Cię promocje klikając w ' +\r\n        'przycisk \"ZAPISZ SIĘ\". Promocja automatycznie zapisze się do Twojego konta. ',\r\n    },\r\n    {\r\n      question: 'Jak sprawdzić w jakich promocjach biorę udział?',\r\n      answer:\r\n        'Po zalogowaniu do serwisu wejdź w zakładkę MOJE PROMOCJE - jest tam lista wszystkich Twoich promocji, do których Cię zapisano.',\r\n    },\r\n    {\r\n      question: 'Jak działa przyznawanie punktów?',\r\n      answer:\r\n        'Punkty są dodawane na podstawie kuponu wygenerowanego przez sprzedawcę. ' +\r\n        'Kupon jest wydawany uczestnikowi danej promocji, jeśli w ramach transkacji spełnił któryś z warunków uwzględnionych w tej promocji. ' +\r\n        'W celu dopisania sobie nowych punktów, uczestnik musi wprowadzić kod z otrzymanego kuponu pod specjalnym adresem promocji: .../.../....com . ' +\r\n        'Jeśli okaże się, że po dodaniu punktów uczestnik uzyskał już wymaganą ilość punktów do odebrania nagrody - może natychmiast udać się po jej odbiór ' +\r\n        'do dowolnego przedstawiciela sklepu organizującego promocję. Punkty zostaną zweryfikowane na podstawie adresu email uczestnika. ',\r\n    },\r\n  ];\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {}\r\n}\r\n","<div class=\"wrapper\">\r\n  <ul class=\"faq-list\" *ngFor=\"let question of questions; index as i\">\r\n    <li class=\"faq\">\r\n      <div class=\"faq__question\">\r\n        {{ question.question }}\r\n        <div class=\"wrap\"></div>\r\n      </div>\r\n      <div class=\"faq__answer\">{{ question.answer }}</div>\r\n    </li>\r\n  </ul>\r\n</div>\r\n"],"sourceRoot":"webpack:///"}